{% extends "partials/explorer.html" %}

{% block title %}Catalogs{% endblock %}

{% block content %}
    {% if !catalogs.is_empty() %}
        <h2 class="header">Catalogs</h2>
        <div class="catalog-table">
            <div class="table-header">
                <span>{{ self.get_sortable_header("Name", CatalogSort::DisplayName)|safe }}</span>
                <span>Description</span>
                <span>{{ self.get_sortable_header("Created", CatalogSort::CreatedAt)|safe }}</span>
                <span>{{ self.get_sortable_header("Updated", CatalogSort::UpdatedAt)|safe }}</span>
            </div>
            <div class="table-body">
                {% for catalog in catalogs %}
                    <a class="catalog-entry" hx-boost="true" href="/catalog/{{ catalog.id }}/browse/{{ catalog.path }}">
                        <span>
                            {{ catalog.display_name }}
                        </span>
                        <span>
                            {{ catalog.short_desc }}
                        </span>
                        <span>
                            {{ catalog.created_at|format_date }}
                        </span>
                        <span>
                            {{ catalog.updated_at|format_date }}
                        </span>
                    </a>
                {% endfor %}
            </div>
        </div>
        {{ pager|safe }}
    {% else %}
        <div class="template-error">
            <p >No catalogs found!</p>
            <svg viewbox="0 0 16 16"width="300px" height="300px">
                <use href="/assets/img/main.svg#catalog-error"/>
            </svg>
        </div>
    {%- endif %}
{% endblock %}
